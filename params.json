{
  "name": "Pure-rng-decks",
  "tagline": "",
  "body": "# Project overview\r\n\r\nPure-RNG-Decks is a creative multiagent system that builds [Hearthstone](https://en.wikipedia.org/wiki/Hearthstone_(video_game)) decks.\r\n\r\nOur system consists of three types of agents:\r\n\r\n1. **CardCreatorAgents** create new Hearthstone cards based on an inspiring set of existing cards.\r\n\r\n2. **GatekeeperAgents** ensure that the created cards are *fair* (\"valuable\") and *novel*. Fairness is evaluated using a regression model based on an inspiring set. Novelty is evaluated in terms of how similar the card is to other, previously seen cards.\r\n\r\n3. **DeckBuilderAgents** build decks out of the cards accepted by GateKeeperAgents. At this point, their inner logic is very rudimentary, but we are working on more complex deck builder. We would like different deck builders to value f.ex. aggressive or defensive cards.\r\n\r\n## Fair Cards\r\n\r\nThe fairness of a Hearthstone card is not an easy subject: even the makers of the game have made some questionable decisions. As mentioned above, we use a regression model to ensure that the cards are fair. The following is a more detailed explanation of this model: We construct from real Heathstone cards a traning set, where the features are the known card mechanics and the card *stats* such as health and attack values. We then use ridge regression to fit a regression model that outputs the mana cost for a card given all the other features of that card as input. The idea here is simple: existing cards should be approximately fair, so their mana cost should approximate the combined \"value\" of their features. We can then use the coefficients learned from fitting this model to evaluate new, previously unseen cards. Such a previously unseen card can then be considered \"fair\" if its evaluated mana cost is within a reasonable range of the actual mana cost.\r\n\r\n# Project structure\r\n\r\nThe project is built on top of the [Django web framework](https://www.djangoproject.com/). This allows us to use web pages as a user interface. Still, the project is not designed to be exposed to a larger audience as the computations are quite heavy: in other words, it's an *intranet-only web service*.\r\n\r\nThe high-level structure is as follows:\r\n```\r\n. # Project root\r\n├── app\r\n│   ├── app/ # Server settings\r\n│   ├── cards\r\n│   │   ├── admin.py # Configuration for Admin UI\r\n│   │   ├── apps.py  # General configuration\r\n│   │   ├── lib\r\n│   │   │   ├── agents\r\n│   │   │   │   ├── card_creator_agent.py # Creates cards\r\n│   │   │   │   ├── deck_creator_agent.py # Creates decks\r\n│   │   │   │   ├── environment.py        # Contains all live agents\r\n│   │   │   │   ├── evaluator.py          # Helper for evaluating the fairness of cards\r\n│   │   │   │   └── gatekeeper_agent.py   # Ensures card fairness and novelty\r\n│   │   │   ├── card_generator.py  # Helper for web UI\r\n│   │   │   ├── deck_generator.py  # Helper for web UI\r\n│   │   │   ├── importer.py        # Fetches real card data\r\n│   │   │   └── learner.py         # Regression model\r\n│   │   └── ...\r\n│   ├── db.sqlite3           # Database\r\n│   ├── heathstonedata.npy   # Cache for learning data\r\n│   └── ...\r\n├── requirements.txt\r\n└── ...\r\n```\r\n\r\nSee the .py files in /app/cards/lib/ for the classes specific to Hearthstone.\r\n\r\n# Other remarks\r\n\r\nWe chose not to go with any existing multi-agent system frameworks, as in our view they bring unnecessary complexities while not being of great help. Notably, even asynchronous multiagent system frameworks are largely unable to allow for any concrete speedup due to the [Python GIL](https://wiki.python.org/moin/GlobalInterpreterLock) only allowing one thread to execute at a time. \r\n\r\n# Installation\r\n\r\nFetch project\r\n\r\n```\r\nljleppan@hp8x-42:~$ git clone git@github.com:ljleppan/pure-rng-decks.git\r\nCloning into 'pure-rng-decks'...\r\nremote: Counting objects: 237, done.\r\nremote: Compressing objects: 100% (170/170), done.\r\nremote: Total 237 (delta 83), reused 212 (delta 59), pack-reused 0\r\nReceiving objects: 100% (237/237), 6.32 MiB | 2.92 MiB/s, done.\r\nResolving deltas: 100% (83/83), done.\r\nChecking connectivity... done.\r\n```\r\n\r\nActivate Virtual Environment\r\n```\r\nljleppan@hp8x-42:~$ source venv/bin/activate\r\n```\r\n\r\nSwitch to project root\r\n```\r\n(venv) ljleppan@hp8x-42:~$ cd pure-rng-decks/\r\n```\r\n\r\nInstall dependencies\r\n```\r\n(venv) ljleppan@hp8x-42:~/pure-rng-decks$ pip install -r requirements.txt\r\n```\r\n\r\nSwitch to app directory\r\n```\r\n(venv) ljleppan@hp8x-42:~/pure-rng-decks$ cd app/\r\n```\r\n\r\nInitialize database\r\n```\r\n(venv) ljleppan@hp8x-42:~/pure-rng-decks/app$ python manage.py migrate\r\nOperations to perform:\r\n  Apply all migrations: admin, auth, cards, contenttypes, sessions\r\nRunning migrations:\r\n  Applying contenttypes.0001_initial... OK\r\n  Applying auth.0001_initial... OK\r\n  Applying admin.0001_initial... OK\r\n  Applying admin.0002_logentry_remove_auto_add... OK\r\n  Applying contenttypes.0002_remove_content_type_name... OK\r\n  Applying auth.0002_alter_permission_name_max_length... OK\r\n  Applying auth.0003_alter_user_email_max_length... OK\r\n  Applying auth.0004_alter_user_username_opts... OK\r\n  Applying auth.0005_alter_user_last_login_null... OK\r\n  Applying auth.0006_require_contenttypes_0002... OK\r\n  Applying auth.0007_alter_validators_add_error_messages... OK\r\n  Applying auth.0008_alter_user_username_max_length... OK\r\n  Applying cards.0001_squashed_0004_auto_20160802_0827... OK\r\n  Applying cards.0002_auto_20160802_1410... OK\r\n  Applying cards.0003_card_simple_value... OK\r\n  Applying cards.0004_auto_20160802_1532... OK\r\n  Applying cards.0005_card_image... OK\r\n  Applying cards.0006_auto_20160807_1326... OK\r\n  Applying sessions.0001_initial... OK\r\n\r\n```\r\n\r\nCreate a superuser account\r\n```\r\n(venv) ljleppan@hp8x-42:~/pure-rng-decks/app$ python manage.py createsuperuser\r\nUsername (leave blank to use 'ljleppan'):\r\nEmail address:\r\nPassword:\r\nPassword (again):\r\nSuperuser created successfully.\r\n```\r\n\r\nModify line 6 of `/cards/lib/importer.py` so that the variable `MASHAPE_KEY` contains a valid API key to the API at https://market.mashape.com/omgvamp/hearthstone.\r\n```\r\nMASHAPE_KEY = \"ADD_KEY_HERE\"\r\n```\r\n\r\nStart the server\r\n```\r\n(venv) ljleppan@hp8x-42:~/pure-rng-decks/app$ python manage.py runserver\r\nPerforming system checks...\r\n\r\nSystem check identified no issues (0 silenced).\r\nDecember 09, 2016 - 09:47:37\r\nDjango version 1.10.3, using settings 'app.settings'\r\nStarting development server at http://127.0.0.1:8000/\r\nQuit the server with CONTROL-C.\r\n\r\n```\r\n\r\nBrowse to http://localhost:8000/admin/ and log in\r\n\r\nBrowse to http://localhost:8000/populate_db. Wait for the program to populate the database from the API. You know the process is complete when you see a page with the text \"Done!\".\r\n\r\n**NB:** If you get a HTTP Error 403: Forbidden, you either skipped step 9 or provided an incorrect API key.\r\n\r\nBrowse to http://localhost:8000/admin/cards/card/ and verify that the database got populated.\r\n\r\n**NB:** The next step will take a long time, up to 15 minutes.\r\n\r\nBrowse to http://localhost:8000/learn and wait for the page to return \"Done!\".\r\n\r\nYou are done. You can browse to http://localhost:8000/create/card for a demo of the individual card creation, or to http://localhost:8000/create/deck to try out the (Work-In-Progress) deck creator.\r\n\r\n# Running the system\r\n\r\nOn subsequent times, it is enough to start the server using `python manage.py runserver`, and then browsing to http://localhost:8000",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}