<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>cards.lib.agents package &#8212; Pure RNG Decks 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Project overview" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="cards-lib-agents-package">
<h1>cards.lib.agents package<a class="headerlink" href="#cards-lib-agents-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-cards.lib.agents.card_creator_agent">
<span id="cardcreatoragent"></span><h2>CardCreatorAgent<a class="headerlink" href="#module-cards.lib.agents.card_creator_agent" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cards.lib.agents.card_creator_agent.CardCreatorAgent">
<em class="property">class </em><code class="descclassname">cards.lib.agents.card_creator_agent.</code><code class="descname">CardCreatorAgent</code><span class="sig-paren">(</span><em>subset_size=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/card_creator_agent.html#CardCreatorAgent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.card_creator_agent.CardCreatorAgent" title="Permalink to this definition">¶</a></dt>
<dd><p>Agent that creates individual HearthStone Cards based on an inspiring set.</p>
<p>The inspiring set is a random subset of the local database. More specifically,
if the local database has been cached as a numpy matrix, that matrix is
sampled. If the database is not cached, the cache will be first created and
then sampled.</p>
<dl class="method">
<dt id="cards.lib.agents.card_creator_agent.CardCreatorAgent.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>subset_size=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/card_creator_agent.html#CardCreatorAgent.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.card_creator_agent.CardCreatorAgent.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new <a class="reference internal" href="#cards.lib.agents.card_creator_agent.CardCreatorAgent" title="cards.lib.agents.card_creator_agent.CardCreatorAgent"><code class="xref py py-class docutils literal"><span class="pre">CardCreatorAgent</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>subset_size</strong> &#8211; Size of inspiring set, sampled from all known real
cards at random</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cards.lib.agents.card_creator_agent.CardCreatorAgent.act">
<code class="descname">act</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/card_creator_agent.html#CardCreatorAgent.act"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.card_creator_agent.CardCreatorAgent.act" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a new card.</p>
<p>First, card mana is drawn randomly from range 0 to 10.</p>
<p><span class="math">\(n \sim P(2)\)</span> mechanics are then drawn from the inspiring set,
with values over 4 being trucanted to 4. If the mechanics have an
effect size &#8211; f. ex. &#8220;Deal X damage&#8221;, then the effect size is again
drawn from <span class="math">\(P(2)\)</span>.</p>
<p><span class="math">\(P(x)\)</span> here is the Poisson distribution,
<span class="math">\(P\left( x \right) = \frac{{e^{ - \lambda } \lambda ^x }}{{x!}}\)</span></p>
<p>Card health and attack values are drawn from a truncated normal distribution.</p>
<p>Card rarity is determined by the difference between estimated value and
mana cost, so that cards worth more than their mana cost are given higher
rarity ratings.</p>
<p>Card name is generated by sampling from parts of existing card names.
Similarly, card art is sampled from existing card art. Card race is random,
with 50 % chance on the card having no race.</p>
<p>:return The generated card</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="cards.lib.agents.card_creator_agent.random">
<code class="descclassname">cards.lib.agents.card_creator_agent.</code><code class="descname">random</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; x in the interval [0, 1).<a class="headerlink" href="#cards.lib.agents.card_creator_agent.random" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-cards.lib.agents.deck_creator_agent">
<span id="deckcreatoragent"></span><h2>DeckCreatorAgent<a class="headerlink" href="#module-cards.lib.agents.deck_creator_agent" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cards.lib.agents.deck_creator_agent.DeckCreatorAgent">
<em class="property">class </em><code class="descclassname">cards.lib.agents.deck_creator_agent.</code><code class="descname">DeckCreatorAgent</code><span class="sig-paren">(</span><em>env</em>, <em>gatekeepers</em>, <em>evaluator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/deck_creator_agent.html#DeckCreatorAgent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.deck_creator_agent.DeckCreatorAgent" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#cards.lib.agents.deck_creator_agent.DeckCreatorAgent" title="cards.lib.agents.deck_creator_agent.DeckCreatorAgent"><code class="xref py py-class docutils literal"><span class="pre">DeckCreatorAgent</span></code></a> builds a fairly balanced deck of 30 cards from cards
generated by instances of <code class="xref py py-class docutils literal"><span class="pre">CardCreatorAgent</span></code> that have passed the
fairness and novelty checks of <code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code> agents.</p>
<p>A <a class="reference internal" href="#cards.lib.agents.deck_creator_agent.DeckCreatorAgent" title="cards.lib.agents.deck_creator_agent.DeckCreatorAgent"><code class="xref py py-class docutils literal"><span class="pre">DeckCreatorAgent</span></code></a> values each attack and health point as 0.5 mana&#8217;s
worth. This is known as the &#8220;vanilla test&#8221; and can be used to quickly evaluate
cards manually. The agent also has approximate knowledge of mechanic values
(rounded to nearest 0.5). It evaluates cards based on these two values, weighting
that evaluation by a need to approximate a good &#8220;mana curve&#8221;.</p>
<p>The mana curve is a conceptual rule that essentially says that a deck should
have more &#8220;cheap&#8221; minions than &#8220;expensive&#8221; minions &#8211; so that the player has
something to play during the first few turns &#8211; but also have some more expensive
minions so that the player has a fighting chance in the end game.</p>
<p>The agent can use three different evaluation schemes: in the default scheme,
health and attack are valued equivalently. In the offesive-heavy scheme, attack is
valued more and positively valued mechanics containing the words &#8220;damage&#8221; or
&#8220;windfury&#8221; are overvalued. In the defensive scheme health and positive mechanics
containing the words &#8220;heal&#8221; and &#8220;taunt&#8221; are overvalued. The scheme is chosen by the
<cite>evaluator</cite> paremeter.</p>
<dl class="method">
<dt id="cards.lib.agents.deck_creator_agent.DeckCreatorAgent.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>env</em>, <em>gatekeepers</em>, <em>evaluator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/deck_creator_agent.html#DeckCreatorAgent.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.deck_creator_agent.DeckCreatorAgent.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a new <a class="reference internal" href="#cards.lib.agents.deck_creator_agent.DeckCreatorAgent" title="cards.lib.agents.deck_creator_agent.DeckCreatorAgent"><code class="xref py py-class docutils literal"><span class="pre">DeckCreatorAgent</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>env</strong> &#8211; The environment this <a class="reference internal" href="#cards.lib.agents.deck_creator_agent.DeckCreatorAgent" title="cards.lib.agents.deck_creator_agent.DeckCreatorAgent"><code class="xref py py-class docutils literal"><span class="pre">DeckCreatorAgent</span></code></a> lives in.</li>
<li><strong>gatekeepers</strong> &#8211; The <code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code> this agent receives cards from.</li>
<li><strong>evaluator</strong> &#8211; Evaluation scheme to use when evaluating cards.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cards.lib.agents.deck_creator_agent.DeckCreatorAgent.act">
<code class="descname">act</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/deck_creator_agent.html#DeckCreatorAgent.act"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.deck_creator_agent.DeckCreatorAgent.act" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a deck of 30 cards. Cards are evaluated as detailed above in
the class&#8217;s description.</p>
<p>The cards are picked in 30 rounds. In each round, each <code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code>
proposes one card, the winner of which is added to the deck. The rest
are discarded.</p>
<p>The included cards are broadcasted to all <code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code> agents and
through them to all <code class="xref py py-class docutils literal"><span class="pre">CardCreatorAgent</span></code> instances after each pick.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cards.lib.agents.deck_creator_agent.DefaultEvaluator">
<em class="property">class </em><code class="descclassname">cards.lib.agents.deck_creator_agent.</code><code class="descname">DefaultEvaluator</code><a class="reference internal" href="_modules/cards/lib/agents/deck_creator_agent.html#DefaultEvaluator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.deck_creator_agent.DefaultEvaluator" title="Permalink to this definition">¶</a></dt>
<dd><p>An evaluator that has no particular bias. Health and attack are seen as
equally valuable, mechanic values are rounded to nearest 0.5.</p>
<dl class="method">
<dt id="cards.lib.agents.deck_creator_agent.DefaultEvaluator.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>card</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/deck_creator_agent.html#DefaultEvaluator.evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.deck_creator_agent.DefaultEvaluator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cards.lib.agents.deck_creator_agent.DefensiveEvaluator">
<em class="property">class </em><code class="descclassname">cards.lib.agents.deck_creator_agent.</code><code class="descname">DefensiveEvaluator</code><a class="reference internal" href="_modules/cards/lib/agents/deck_creator_agent.html#DefensiveEvaluator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.deck_creator_agent.DefensiveEvaluator" title="Permalink to this definition">¶</a></dt>
<dd><p>An evaluator with bias on defense. Health is seen as more valuable than attack,
&#8220;taunt&#8221; and &#8220;heal&#8221; mechanics are overvalued when positive.</p>
<dl class="method">
<dt id="cards.lib.agents.deck_creator_agent.DefensiveEvaluator.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>card</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/deck_creator_agent.html#DefensiveEvaluator.evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.deck_creator_agent.DefensiveEvaluator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cards.lib.agents.deck_creator_agent.OffensiveEvaluator">
<em class="property">class </em><code class="descclassname">cards.lib.agents.deck_creator_agent.</code><code class="descname">OffensiveEvaluator</code><a class="reference internal" href="_modules/cards/lib/agents/deck_creator_agent.html#OffensiveEvaluator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.deck_creator_agent.OffensiveEvaluator" title="Permalink to this definition">¶</a></dt>
<dd><p>An evaluator with bias on offense. Attack is seen as more valuable than health,
&#8220;windfury&#8221; and &#8220;damage&#8221; mechanics are overvalued when positive.</p>
<dl class="method">
<dt id="cards.lib.agents.deck_creator_agent.OffensiveEvaluator.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>card</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/deck_creator_agent.html#OffensiveEvaluator.evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.deck_creator_agent.OffensiveEvaluator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cards.lib.agents.environment">
<span id="environment"></span><h2>Environment<a class="headerlink" href="#module-cards.lib.agents.environment" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cards.lib.agents.environment.Environment">
<em class="property">class </em><code class="descclassname">cards.lib.agents.environment.</code><code class="descname">Environment</code><span class="sig-paren">(</span><em>n_card_creators</em>, <em>n_gatekeepers</em>, <em>deck_creator_styles</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/environment.html#Environment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.environment.Environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a collection of agents, working together to produce decks of
cards.</p>
<dl class="method">
<dt id="cards.lib.agents.environment.Environment.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>n_card_creators</em>, <em>n_gatekeepers</em>, <em>deck_creator_styles</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/environment.html#Environment.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.environment.Environment.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new <a class="reference internal" href="#cards.lib.agents.environment.Environment" title="cards.lib.agents.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a> containing a set of agents.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>n_card_creators</strong> &#8211; Number of <a class="reference internal" href="#cards.lib.agents.card_creator_agent.CardCreatorAgent" title="cards.lib.agents.card_creator_agent.CardCreatorAgent"><code class="xref py py-class docutils literal"><span class="pre">CardCreatorAgent</span></code></a> each <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> is associated with.</li>
<li><strong>n_gatekeepers</strong> &#8211; Number of <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> each <a class="reference internal" href="#cards.lib.agents.deck_creator_agent.DeckCreatorAgent" title="cards.lib.agents.deck_creator_agent.DeckCreatorAgent"><code class="xref py py-class docutils literal"><span class="pre">DeckCreatorAgent</span></code></a> is associated with.</li>
<li><strong>deck_creator_styles</strong> &#8211; Styles of <a class="reference internal" href="#cards.lib.agents.deck_creator_agent.DeckCreatorAgent" title="cards.lib.agents.deck_creator_agent.DeckCreatorAgent"><code class="xref py py-class docutils literal"><span class="pre">DeckCreatorAgent</span></code></a> instances in this <a class="reference internal" href="#cards.lib.agents.environment.Environment" title="cards.lib.agents.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="cards.lib.agents.environment.Environment.card_creators">
<code class="descname">card_creators</code><a class="headerlink" href="#cards.lib.agents.environment.Environment.card_creators" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of all <a class="reference internal" href="#cards.lib.agents.card_creator_agent.CardCreatorAgent" title="cards.lib.agents.card_creator_agent.CardCreatorAgent"><code class="xref py py-class docutils literal"><span class="pre">CardCreatorAgent</span></code></a> in this <a class="reference internal" href="#cards.lib.agents.environment.Environment" title="cards.lib.agents.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="cards.lib.agents.environment.Environment.deck_creators">
<code class="descname">deck_creators</code><a class="headerlink" href="#cards.lib.agents.environment.Environment.deck_creators" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of all <a class="reference internal" href="#cards.lib.agents.deck_creator_agent.DeckCreatorAgent" title="cards.lib.agents.deck_creator_agent.DeckCreatorAgent"><code class="xref py py-class docutils literal"><span class="pre">DeckCreatorAgent</span></code></a> in this <a class="reference internal" href="#cards.lib.agents.environment.Environment" title="cards.lib.agents.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="cards.lib.agents.environment.Environment.gatekeepers">
<code class="descname">gatekeepers</code><a class="headerlink" href="#cards.lib.agents.environment.Environment.gatekeepers" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of all <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> in this <a class="reference internal" href="#cards.lib.agents.environment.Environment" title="cards.lib.agents.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cards.lib.agents.environment.Environment.step">
<code class="descname">step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/environment.html#Environment.step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.environment.Environment.step" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the simulation for one step, producing a new deck.</p>
<p>The deck creator that finally produces the deck is at this point chosen
randomly from among all the deck creators.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of 30 dicts, each dict presenting a card</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cards.lib.agents.gatekeeper_agent">
<span id="gatekeeper"></span><h2>Gatekeeper<a class="headerlink" href="#module-cards.lib.agents.gatekeeper_agent" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cards.lib.agents.gatekeeper_agent.Gatekeeper">
<em class="property">class </em><code class="descclassname">cards.lib.agents.gatekeeper_agent.</code><code class="descname">Gatekeeper</code><span class="sig-paren">(</span><em>env</em>, <em>card_generators</em>, <em>subset_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/gatekeeper_agent.html#Gatekeeper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="Permalink to this definition">¶</a></dt>
<dd><p>A gatekeeper agent. Each <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> knows a certain set of <a class="reference internal" href="#cards.lib.agents.card_creator_agent.CardCreatorAgent" title="cards.lib.agents.card_creator_agent.CardCreatorAgent"><code class="xref py py-class docutils literal"><span class="pre">CardCreatorAgent</span></code></a>
instances. It can also talk to other <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> instances through <a class="reference internal" href="#cards.lib.agents.environment.Environment" title="cards.lib.agents.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a>.</p>
<p>Each <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> has a static inspiring set of real cards it uses
to evalute the fairness of new cards, as well as a limited memory of previously
seen generated cards that it uses to evaluate novelty.</p>
<dl class="method">
<dt id="cards.lib.agents.gatekeeper_agent.Gatekeeper.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>env</em>, <em>card_generators</em>, <em>subset_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/gatekeeper_agent.html#Gatekeeper.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> agent.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>env</strong> &#8211; The <a class="reference internal" href="#cards.lib.agents.environment.Environment" title="cards.lib.agents.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a> this <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> lives in.</li>
<li><strong>card_generators</strong> &#8211; A list of all <a class="reference internal" href="#cards.lib.agents.card_creator_agent.CardCreatorAgent" title="cards.lib.agents.card_creator_agent.CardCreatorAgent"><code class="xref py py-class docutils literal"><span class="pre">CardCreatorAgent</span></code></a> instances this <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> is associated with.</li>
<li><strong>subset_size</strong> &#8211; The size of inspiring set this <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> has.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cards.lib.agents.gatekeeper_agent.Gatekeeper.act">
<code class="descname">act</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/gatekeeper_agent.html#Gatekeeper.act"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper.act" title="Permalink to this definition">¶</a></dt>
<dd><p>Act one &#8220;round&#8221; of the simulation.</p>
<p>The <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> asks each <a class="reference internal" href="#cards.lib.agents.card_creator_agent.CardCreatorAgent" title="cards.lib.agents.card_creator_agent.CardCreatorAgent"><code class="xref py py-class docutils literal"><span class="pre">CardCreatorAgent</span></code></a> to produce
a new card. Any non-novel and non-fair cards are discarded. For the remaining
cards, the opinion of one other <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> &#8211; chosen randomly from
the <a class="reference internal" href="#cards.lib.agents.environment.Environment" title="cards.lib.agents.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a> &#8211; is asked on whether the cards indeed are both
fair and novel.</p>
<p>If both this and the other <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> agreed on any cards, this
<a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> commits them all to memory and then randomly chooses
one winner.</p>
<p>The winner is then broadcasted to all other <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a> instances
so that they, too, remember it for future novelty checks.</p>
</dd></dl>

<dl class="method">
<dt id="cards.lib.agents.gatekeeper_agent.Gatekeeper.is_fair">
<code class="descname">is_fair</code><span class="sig-paren">(</span><em>card</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/gatekeeper_agent.html#Gatekeeper.is_fair"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper.is_fair" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether the inpur card is &#8220;fair&#8221; or not.</p>
<p>Fair cards have non-negative mana and attack value and a positive health.</p>
<p>Similarly, all mechanics with effect sizes (&#8220;X&#8221; in &#8220;Deal X damage&#8221;) must
have positive effect sizes, and no duplicate mechanics are allowed within
a single card.</p>
<p>Finally, card value (as estimated by a model fit on the inspiring set of
this <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a>) must be within 1 of the card&#8217;s mana cost.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>card</strong> &#8211; Card to evaluate.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><cite>True</cite> if card is fair, <cite>False</cite> otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cards.lib.agents.gatekeeper_agent.Gatekeeper.is_novel">
<code class="descname">is_novel</code><span class="sig-paren">(</span><em>card</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/gatekeeper_agent.html#Gatekeeper.is_novel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper.is_novel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether an input card is novel.</p>
<p>A card is <em>not</em> novel if it shares a name with a memorized card, or it
has the exact same combination of mana, health, attack and mechanics as
another card in memory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>card</strong> &#8211; Card to evaluate.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><cite>True</cite> if the card is novel, <cite>False</cite> otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cards.lib.agents.gatekeeper_agent.Gatekeeper.remember">
<code class="descname">remember</code><span class="sig-paren">(</span><em>card</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/gatekeeper_agent.html#Gatekeeper.remember"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper.remember" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new card to the limited memory of this <a class="reference internal" href="#cards.lib.agents.gatekeeper_agent.Gatekeeper" title="cards.lib.agents.gatekeeper_agent.Gatekeeper"><code class="xref py py-class docutils literal"><span class="pre">Gatekeeper</span></code></a>. If the
memory is already full, the oldest card is purged from memory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>card</strong> &#8211; Card to memorize.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cards.lib.agents.learning_utils">
<span id="learningutils"></span><h2>LearningUtils<a class="headerlink" href="#module-cards.lib.agents.learning_utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="cards.lib.agents.learning_utils.card_as_row">
<code class="descclassname">cards.lib.agents.learning_utils.</code><code class="descname">card_as_row</code><span class="sig-paren">(</span><em>card</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/learning_utils.html#card_as_row"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.learning_utils.card_as_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms a card (represented as a dict) to a corresponding numpy row matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>card</strong> &#8211; Card to transform to a numpy row matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The corresponding numpy row matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cards.lib.agents.learning_utils.data_as_numpy_array">
<code class="descclassname">cards.lib.agents.learning_utils.</code><code class="descname">data_as_numpy_array</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/learning_utils.html#data_as_numpy_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.learning_utils.data_as_numpy_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms all cards in the local database into a numpy matrix. The
resulting matrix can then be cached on disk.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A numpy matrix consisting of all the card data in the local database.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-cards.lib.agents.limited_memory">
<span id="limitedmemory"></span><h2>LimitedMemory<a class="headerlink" href="#module-cards.lib.agents.limited_memory" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cards.lib.agents.limited_memory.LimitedMemory">
<em class="property">class </em><code class="descclassname">cards.lib.agents.limited_memory.</code><code class="descname">LimitedMemory</code><span class="sig-paren">(</span><em>capacity</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/limited_memory.html#LimitedMemory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.limited_memory.LimitedMemory" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple LeastRecentlyAdded limited list, modified from the example used in the course.</p>
<dl class="method">
<dt id="cards.lib.agents.limited_memory.LimitedMemory.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>capacity</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/limited_memory.html#LimitedMemory.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.limited_memory.LimitedMemory.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new <a class="reference internal" href="#cards.lib.agents.limited_memory.LimitedMemory" title="cards.lib.agents.limited_memory.LimitedMemory"><code class="xref py py-class docutils literal"><span class="pre">LimitedMemory</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>capacity</strong> &#8211; Number of items this <a class="reference internal" href="#cards.lib.agents.limited_memory.LimitedMemory" title="cards.lib.agents.limited_memory.LimitedMemory"><code class="xref py py-class docutils literal"><span class="pre">LimitedMemory</span></code></a> can hold.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cards.lib.agents.limited_memory.LimitedMemory.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cards/lib/agents/limited_memory.html#LimitedMemory.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cards.lib.agents.limited_memory.LimitedMemory.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new item to this <a class="reference internal" href="#cards.lib.agents.limited_memory.LimitedMemory" title="cards.lib.agents.limited_memory.LimitedMemory"><code class="xref py py-class docutils literal"><span class="pre">LimitedMemory</span></code></a>. If this <a class="reference internal" href="#cards.lib.agents.limited_memory.LimitedMemory" title="cards.lib.agents.limited_memory.LimitedMemory"><code class="xref py py-class docutils literal"><span class="pre">LimitedMemory</span></code></a>
already contains <cite>capacity</cite> items, the oldest item is removed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>card</strong> &#8211; The item to add this this <a class="reference internal" href="#cards.lib.agents.limited_memory.LimitedMemory" title="cards.lib.agents.limited_memory.LimitedMemory"><code class="xref py py-class docutils literal"><span class="pre">LimitedMemory</span></code></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="cards.lib.agents.limited_memory.LimitedMemory.capacity">
<code class="descname">capacity</code><a class="headerlink" href="#cards.lib.agents.limited_memory.LimitedMemory.capacity" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The maximum capacity of this <a class="reference internal" href="#cards.lib.agents.limited_memory.LimitedMemory" title="cards.lib.agents.limited_memory.LimitedMemory"><code class="xref py py-class docutils literal"><span class="pre">LimitedMemory</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="cards.lib.agents.limited_memory.LimitedMemory.items">
<code class="descname">items</code><a class="headerlink" href="#cards.lib.agents.limited_memory.LimitedMemory.items" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The items stores in this <a class="reference internal" href="#cards.lib.agents.limited_memory.LimitedMemory" title="cards.lib.agents.limited_memory.LimitedMemory"><code class="xref py py-class docutils literal"><span class="pre">LimitedMemory</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">cards.lib.agents package</a><ul>
<li><a class="reference internal" href="#module-cards.lib.agents.card_creator_agent">CardCreatorAgent</a></li>
<li><a class="reference internal" href="#module-cards.lib.agents.deck_creator_agent">DeckCreatorAgent</a></li>
<li><a class="reference internal" href="#module-cards.lib.agents.environment">Environment</a></li>
<li><a class="reference internal" href="#module-cards.lib.agents.gatekeeper_agent">Gatekeeper</a></li>
<li><a class="reference internal" href="#module-cards.lib.agents.learning_utils">LearningUtils</a></li>
<li><a class="reference internal" href="#module-cards.lib.agents.limited_memory">LimitedMemory</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Project overview</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/cards.lib.agents.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Leo Leppänen, Juho Leinonen, Jouko Niinimäki, Keith Davis.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/cards.lib.agents.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>